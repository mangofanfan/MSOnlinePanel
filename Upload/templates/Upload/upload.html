{% extends 'base.html' %}

{% block title %}
    文件上传器
{% endblock %}

{% block global_page_top %}
    文件上传暂时仅支持上传常规图片格式（jpg、png格式）的文件。
{% endblock %}

{% block content %}
    <h1>文件上传器</h1>
    {% if status %}
        <div class="alert alert-{{ status }}" role="alert">
            {{ msg|safe }}
        </div>
    {% endif %}
    <form method="POST" enctype="multipart/form-data" style="text-align: center">
        {% csrf_token %}
        {{ form.as_p }}
        <p>上传完毕后，您会获得所上传的文件的MD5（长度32的字符串），您可以使用该MD5引用您的文件，例如在编辑器中插入图像。</p>
        <button type="submit" class="btn btn-success" style="width: 100%;">上传</button>
    </form>
{% endblock %}

{% block custom_js %}
    <script>
        function copyMd5(md5) {
            navigator.clipboard.writeText(md5);
            console.log("已经将文件的MD5复制到剪切板：", md5);
        }
    </script>
{% endblock %}
